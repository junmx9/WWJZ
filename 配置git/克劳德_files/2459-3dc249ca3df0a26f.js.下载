"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2459],{72459:function(e,r,a){var t=a(7653),n=function(){return(n=Object.assign||function(e){for(var r,a=1,t=arguments.length;a<t;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function i(e,r,a){if(a||2==arguments.length)for(var t,n=0,i=r.length;n<i;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return e.concat(t||r)}var o=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},l={k:1e3,m:1e6,b:1e9},u=function(e,r){void 0===r&&(r=".");var a=RegExp("(\\d+("+o(r)+"\\d*)?)([kmb])$","i"),t=e.match(a);if(t){var n=t[1],i=l[t[3].toLowerCase()];return Number(n.replace(r,"."))*i}},c=function(e,r){void 0===r&&(r=",");var a=RegExp(o(r),"g");return e.replace(a,"")},p=function(e,r){var a=RegExp("[^\\d"+o(r.join(""))+"]","gi");return e.replace(a,"")},d=function(e){var r=e.value,a=e.groupSeparator,t=void 0===a?",":a,n=e.decimalSeparator,l=void 0===n?".":n,d=e.allowDecimals,f=e.decimalsLimit,s=void 0===f?2:f,v=e.allowNegativeValue,m=e.disableAbbreviations,g=void 0!==m&&m,S=e.prefix,y=void 0===S?"":S,b=e.transformRawValue,h=(void 0===b?function(e){return e}:b)(r);if("-"===h)return h;var x=g?[]:["k","m","b"],w=RegExp("((^|\\D)-\\d)|(-"+o(y)+")").test(h),E=RegExp("(\\d+)-?"+o(y)).exec(r)||[],R=E[0],N=E[1],V=p(c(y?R?h.replace(R,"").concat(N):h.replace(y,""):h,t),i([t,l],x)),D=V;if(!g){if(x.some(function(e){return e===V.toLowerCase().replace(l,"")}))return"";var C=u(V,l);C&&(D=String(C))}var F=w&&(void 0===v||v)?"-":"";if(l&&D.includes(l)){var k=V.split(l),O=k[0],j=k[1],A=s&&j?j.slice(0,s):j;return""+F+O+(void 0===d||d?""+l+A:"")}return""+F+D},f=function(e,r,a){if(a&&e.length>1){if(e.includes(r)){var t=e.split(r),n=t[0],i=t[1];if(i.length>a)return""+n+r+i.slice(0,a)}var o=e.length>a?RegExp("(\\d+)(\\d{"+a+"})"):RegExp("(\\d)(\\d+)"),l=e.match(o);if(l){var n=l[1],i=l[2];return""+n+r+i}}return e},s=function(e,r){var a=r.groupSeparator,t=r.decimalSeparator,n=RegExp("\\d([^"+o(void 0===a?",":a)+o(void 0===t?".":t)+"0-9]+)"),i=e.match(n);return i?i[1]:void 0},v=function(e){var r=e.value,a=e.decimalSeparator,t=e.intlConfig,i=e.decimalScale,l=e.prefix,u=void 0===l?"":l,c=e.suffix,p=void 0===c?"":c;if(""===r||void 0===r)return"";if("-"===r)return"-";var d=RegExp("^\\d?-"+(u?o(u)+"?":"")+"\\d").test(r),f="."!==a?m(r,a,d):r,v={minimumFractionDigits:i||0,maximumFractionDigits:20},S=g((t?new Intl.NumberFormat(t.locale,t.currency?n(n({},v),{style:"currency",currency:t.currency}):v):new Intl.NumberFormat(void 0,v)).formatToParts(Number(f)),e),y=s(S,n({},e)),b=r.slice(-1)===a?a:"",h=(f.match(RegExp("\\d+\\.(\\d+)"))||[])[1];return(void 0===i&&h&&a&&(S=S.includes(a)?S.replace(RegExp("(\\d+)("+o(a)+")(\\d+)","g"),"$1$2"+h):y&&!p?S.replace(y,""+a+h+y):""+S+a+h),p&&b)?""+S+b+p:y&&b?S.replace(y,""+b+y):y&&p?S.replace(y,""+b+p):[S,b,p].join("")},m=function(e,r,a){var t=e;return r&&"."!==r&&(t=t.replace(RegExp(o(r),"g"),"."),a&&"-"===r&&(t="-"+t.slice(1))),t},g=function(e,r){var a=r.prefix,t=r.groupSeparator,n=r.decimalSeparator,o=r.decimalScale,l=r.disableGroupSeparators,u=void 0!==l&&l;return e.reduce(function(e,r,l){var c=r.type,p=r.value;return 0===l&&a?"minusSign"===c?[p,a]:"currency"===c?i(i([],e),[a]):[a,p]:"currency"===c?a?e:i(i([],e),[p]):"group"===c?u?e:i(i([],e),[void 0!==t?t:p]):"decimal"===c?void 0!==o&&0===o?e:i(i([],e),[void 0!==n?n:p]):"fraction"===c?i(i([],e),[void 0!==o?p.slice(0,o):p]):i(i([],e),[p])},[""]).join("")},S={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},y=function(e){var r=e||{},a=r.locale,t=r.currency;return(a?new Intl.NumberFormat(a,t?{currency:t,style:"currency"}:void 0):new Intl.NumberFormat).formatToParts(1000.1).reduce(function(e,r,a){return"currency"===r.type?0===a?n(n({},e),{currencySymbol:r.value,prefix:r.value}):n(n({},e),{currencySymbol:r.value,suffix:r.value}):"group"===r.type?n(n({},e),{groupSeparator:r.value}):"decimal"===r.type?n(n({},e),{decimalSeparator:r.value}):e},S)},b=function(e){return RegExp(/\d/,"gi").test(e)},h=function(e,r,a){if(void 0===r&&(r="."),void 0===a||""===e||void 0===e)return e;if(!e.match(/\d/g))return"";var t=e.split(r),n=t[0],i=t[1];if(0===a)return n;var o=i||"";if(o.length<a)for(;o.length<a;)o+="0";else o=o.slice(0,a);return""+n+r+o},x=function(e){var r=e.selectionStart,a=e.value,t=e.lastKeyStroke,n=e.stateValue,i=e.groupSeparator,o=r,l=a;if(n&&o){var u=a.split("");return"Backspace"===t&&n[o]===i&&(u.splice(o-1,1),o-=1),"删除"===t&&n[o]===i&&(u.splice(o,1),o+=1),{modifiedValue:l=u.join(""),cursorPosition:o}}return{modifiedValue:l,cursorPosition:r}},w=(0,t.forwardRef)(function(e,r){var a=e.allowDecimals,i=e.allowNegativeValue,o=e.id,l=e.name,u=e.className,c=e.customInput,p=e.decimalsLimit,m=e.defaultValue,g=e.disabled,S=e.maxLength,w=e.value,E=e.onValueChange,R=e.fixedDecimalLength,N=e.placeholder,V=e.decimalScale,D=e.prefix,C=e.suffix,F=e.intlConfig,k=e.step,O=e.min,j=e.max,A=e.disableGroupSeparators,L=void 0!==A&&A,I=e.disableAbbreviations,P=e.decimalSeparator,K=e.groupSeparator,U=e.onChange,$=e.onFocus,B=e.onBlur,G=e.onKeyDown,_=e.onKeyUp,T=e.transformRawValue,M=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>r.indexOf(t)&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)0>r.indexOf(t[n])&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a}(e,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue"]);if(P&&b(P))throw Error("decimalSeparator cannot be a number");if(K&&b(K))throw Error("groupSeparator cannot be a number");var H=(0,t.useMemo)(function(){return y(F)},[F]),Z=P||H.decimalSeparator||"",q=K||H.groupSeparator||"";if(Z&&q&&Z===q&&!1===L)throw Error("decimalSeparator cannot be the same as groupSeparator");var z={decimalSeparator:Z,groupSeparator:q,disableGroupSeparators:L,intlConfig:F,prefix:D||H.prefix,suffix:C},J={decimalSeparator:Z,groupSeparator:q,allowDecimals:void 0===a||a,decimalsLimit:p||R||2,allowNegativeValue:void 0===i||i,disableAbbreviations:void 0!==I&&I,prefix:D||H.prefix,transformRawValue:T},Q=null!=m?v(n(n({},z),{decimalScale:V,value:String(m)})):null!=w?v(n(n({},z),{decimalScale:V,value:String(w)})):"",W=(0,t.useState)(Q),X=W[0],Y=W[1],ee=(0,t.useState)(!1),er=ee[0],ea=ee[1],et=(0,t.useState)(0),en=et[0],ei=et[1],eo=(0,t.useState)(0),el=eo[0],eu=eo[1],ec=(0,t.useState)(null),ep=ec[0],ed=ec[1],ef=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,function(){return ef.current});var es=function(e,r){ea(!0);var a=x({selectionStart:r,value:e,lastKeyStroke:ep,stateValue:X,groupSeparator:q}),t=a.modifiedValue,i=a.cursorPosition,o=d(n({value:t},J));if(!S||!(o.replace(/-/g,"").length>S)){if(""===o||"-"===o||o===Z){E&&E(void 0,l,{float:null,formatted:"",value:""}),Y(o),ei(1);return}var u=parseFloat(Z?o.replace(Z,"."):o),c=v(n({value:o},z));if(null!=i){var p=i+(c.length-e.length);ei(p=p<=0?D?D.length:0:p),eu(el+1)}Y(c),E&&E(o,l,{float:u,formatted:c,value:o})}};(0,t.useEffect)(function(){er&&"-"!==X&&ef.current&&document.activeElement===ef.current&&ef.current.setSelectionRange(en,en)},[X,en,ef,er,el]);var ev=n({type:"text",inputMode:"decimal",id:o,name:l,className:u,onChange:function(e){var r=e.target;es(r.value,r.selectionStart),U&&U(e)},onBlur:function(e){var r=e.target.value,a=d(n({value:r},J));if("-"===a||a===Z||!a){Y(""),B&&B(e);return}var t=h(f(a,Z,R),Z,void 0!==V?V:R),i=parseFloat(t.replace(Z,".")),o=v(n(n({},z),{value:t}));E&&E(t,l,{float:i,formatted:o,value:t}),Y(o),B&&B(e)},onFocus:function(e){return $&&$(e),X?X.length:0},onKeyDown:function(e){var r=e.key;if(ed(r),k&&("ArrowUp"===r||"ArrowDown"===r)){e.preventDefault(),ei(X.length);var a=parseFloat(null!=w?String(w).replace(Z,"."):d(n({value:X},J)))||0,t="ArrowUp"===r?a+k:a-k;if(void 0!==O&&t<O||void 0!==j&&t>j)return;var i=String(k).includes(".")?Number(String(k).split(".")[1].length):void 0;es(String(i?t.toFixed(i):t).replace(".",Z))}G&&G(e)},onKeyUp:function(e){var r=e.key,a=e.currentTarget.selectionStart;if("ArrowUp"!==r&&"ArrowDown"!==r&&"-"!==X){var t=s(X,{groupSeparator:q,decimalSeparator:Z});if(t&&a&&a>X.length-t.length&&ef.current){var n=X.length-t.length;ef.current.setSelectionRange(n,n)}}_&&_(e)},placeholder:N,disabled:void 0!==g&&g,value:null==w||"-"===X||Z&&X===Z?X:v(n(n({},z),{decimalScale:er?void 0:V,value:String(w)})),ref:ef},M);return c?t.createElement(c,n({},ev)):t.createElement("input",n({},ev))});w.displayName="CurrencyInput",r.Z=w}}]);